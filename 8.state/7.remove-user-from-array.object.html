<!DOCTYPE html>
<html>
    <head>
        <title>
            Removing user from array list
        </title>
    </head>
    <body>
        <div id="root">

        </div>

        <script src="../js/react.development.js"></script>
        <script src="../js/react-dom.development.js"></script>
        <script src="../js/babel.js"></script>

        <script type="text/babel">
                const rootHandle=document.getElementById('root')
                const {useState} = React

                const userData=[
                    {id:1,name:'user1'},
                    {id:2,name:'user2'},
                    {id:3,name:'user3'}
                ]

            
                function UserList(props){
                    const [users, setUsers ] = useState(userData)

                    const removeUser=(id)=>{//1!=3(true) ... 3!=3(false) so this will be skipped and remaining 2 users will be stored in new array. that's how clicked user wont be displayed i.e removed.
                        const confirmRemove=confirm("Are you sure?")
                        if(confirmRemove){
                            const result = users.filter((user)=>{
                            return user.id!==id
                        })
                        setUsers(result)
                        }
                    }

                    return(//displaying users name as a list item.//for eg : clicked on 3 id. which is indirectly above id
                        <div>
                            <h1>Listing Users - {users.length}</h1> 
                            <ul>
                               {users.map((ele)=>{
                                    return(
                                        <li key={ele.id}>{ele.name} 
                                            <button onClick={()=>{
                                                removeUser(ele.id)
                                            }}> Remove User</button>
                                        </li>
                                    )
                               })}
                            </ul>
                        </div>
                    )
                }

                ReactDOM.render(<UserList/>, rootHandle)
        </script>
    </body>
</html>